# Git 和 GitHub 使用指南

> 本文档，基于个人对于 Git 和 GitHub 使用的具体经历编写。
>
> 所以可能会有错误，欢迎 Issues !
>
> 但由于在实际工作又使用到了 GitLab ，所以……又会写一些关于 GitLab 的（啪啪啪！自己打自己脸！）

**注意：本文档侧重于记录一些非基础/偏僻的问题和解决方案的参考。** 所以我在本文档中不会过多的介绍/讲解基础。

若是想学习 Git 基础的使用，还请参考 [Git 教程 - 廖雪峰](https://www.liaoxuefeng.com/wiki/896043488029600) 等国内大佬编写的中文教程。

本指南的一些专业术语/说法，遵循/参考于 [Git Pro](https://git-scm.com/book/zh/v2) 为主，外加其他的网络文献资料辅助参考。

在尽可能通俗易懂的情况，也尽可能保证专业性。

在本指南中，通过 Git 进行版本控制的软件源代码托管服务平台使用的是，GitHub、GitLab。

## 对于个人仓库/项目

- [ ] Writing [个人项目中的 Git 和 “远程 Git 仓库” 使用](Documents/Git_And_Remote_Git_Repositories_In_Personal_Projects.md)

## 对于参与到开源项目/团队协作

- [ ] Writing [团队项目协作中的 Git 和 “远程 Git 仓库” 使用](Documents/Git_And_Remote_Git_Repository_Use_In_Team_Project_Collaboration.md)

---

## 特定情况的处理

- [ ] Writing [Git 撤销](Documents/GitRevocation.md)


## 遇到涉及 Git 操作的问题，且网络上无参考的案例

请使用

```bash
 git status
```

它会你一些提示，然后你再尝试修补你的“错误”。

有时候它还会“主动”告诉你一些建议：你或许需要执行的操作。所以出了问题不必太慌张。

## 警告！不要轻易修改 GitHub 等远程仓库的 “主邮箱”！

因为 Git 不是你想象的那么智能，不会智能/地处理所有问题。

假如你现在修改了**远程仓库的主邮箱**，比如 GitHub 能绑定多个邮箱，但必须指定其中一个为主邮箱，因为你在配置本地 Git 信息的时候需要配置远程仓库账号的邮箱。虽然还有个用户名配置（不变），但 Git 就是会把你当作一个全新的 “你” 。

即，**在本地，你现有的代码中或者重新拉取下来的远程仓库代码中已有的 “版本控制记录”，只会是属于你之前的邮箱和用户名所代表的“你”，而不属于现在的邮箱和用户名所代表的“你”。**

既是你，又不是你。所以还请慎重选择，以免发生不必要的“冲突”。

因此会造成，你 通过 SSH 拉不下来：提示无访问权限。

我遇到这个问题，在 `git version 2.25.0.windows.1` ，但在 `git version 2.23.0.windows.1` 中无该问题。或许是 Git 修复了在 2.23.0 的 bug 。

你或许只能先备份代码到本地，删除原仓库，再创建一个同样的远程仓库，并把备份的本地代码 Git 初始化后 push 上去。（我目前仅想到该方法）

##  “本地仓库对远程仓库上传/下载速度慢”

### 恰好你有可用代理

不要认为，你在代理软件上选择了“全局模式”，就认为能让 Git 走你的代理服务了。

非也，非也。

为了 Git 能稳定地和你本地运行的代理软件进行“沟通”，你需要做些特殊的配置。如下所示：

- 若无 “可挂代理的路由器设备” ，可通过以下方式

    Windows 用户：

    >1. 打开这个文件夹：`C:\Users\你的电脑用户名\.ssh`
    >2. 右键新建一个记事本。注意，在创建的时候，删除`.txt`的后缀名（所以我们不是在创建一个 txt 文件！），文件名叫 `config` 。
    >3. 然后在其中写入如下信息
    >
    >    `ProxyCommand "C:\Program Files\Git\mingw64\bin\connect.exe" -S 127.0.0.1:1080 %h %p`
    >
    >       这里 Git 的安装路径和后面的代理方式，自己看着填（个人建议，默认路径安装），不要试着用相对路径，保证要吃亏。因为 Program Files 文件夹中间带一个空格，所以这里需要把整个路径给引号引起来。  后面的代理的话，-S 指是 socks 代理，默认是 socks5，后面的 %h %p 意思是 Host 和 Port，必须得写上，我也不知道为什么要这么设计。如果要使用 HTTP 代理，就写 -H，更多代理类型（比如 socks4）请参[gotoh / connect / wiki / Home — Bitbucket](https://bitbucket.org/gotoh/connect/wiki/Home#!more-detail)。(该方法来源于知乎)
    >
    > 在 Hyper for Windows 下走不了代理，push 会报错。（光好看不顶用！弃！

    Linux 平台：

    > ......

    macOS 平台：

    > ......

- 若是有可挂代理的路由设备，（**强烈**）建议 **直接使用路由挂代理！** 用了都说好！~

**值得注意的是！使用 Git Clone 命令行的方式下载仓库和 GitHub 的网页打包方式下载仓库，均不支持断点续传。**
所以，在下载仓库的时候，假如你的代理不稳（时不时断流）、或者有多个代理想切换一下使用、以及暂停下下载器等会儿再下载，那恭喜你：你得重新下载。哪怕是你不删除上次的未完成文件夹，想接着 Clone ，这也是不行的，程序只会是从零开始，重新下载。

所以 **请在保证网络“通畅”的情况下，进行下载。** 特别是大的仓库（几百兆以上），小仓库倒不用怎么担心。


## 如果你在使用代理的情况下，访问 GitHub 还不太顺利

- **恭喜你，恐怕是遭到 DNS 污染了。**

    请尝试为浏览器开启 DoH 功能。甚至，你还需要更改/指定系统设置中的 DNS （因为一般都是默认“自动获取”）。

    不过这只是尝试，并不是百分百管用。因为有时候，真的是不可抗因素！
- **或许你使用的 “GFW List” 模式。**
    先 尝试 更新代理程序中 GFW List 数据。
    若还是不行，建议再尝试 “**绕过中国大陆 IP**” 模式。
